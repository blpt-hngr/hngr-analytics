//version=10
function getUrlParam(n){const t=getUrlParams();return t&&t[n]?t[n]:null}function getUrlParams(n){let t={},e=n;e||(e=window.location.href);e.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(n,e,a){t[e]=a}));return t}async function setToken(n="UNKNOWN"){window.hngr.key=n}async function sendHam(n="UNKNOWN",t="EXTERNAL",e={}){let a={product:n,event_name:t};null!==e&&(a.payload=btoa(JSON.stringify(e)));var r=new URL("https://ham.hngr.co/ham.json");const o=getUrlParam("utm_source");o&&(a.utm_source=o);const m=getUrlParam("utm_medium");m&&(a.utm_medium=m);const c=getUrlParam("utm_campaign");c&&(a.utm_campaign=c);const i=getUrlParam("utm_content");i&&(a.utm_content=i);const s=getUrlParam("utm_term");s&&(a.utm_term=s),a.origin=window.location.href,a.key=window.hngr.key,r.search=new URLSearchParams(a).toString(),console.log(r.href),fetch(r,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}).then((n=>{n.json().then((n=>{n.ham_id}))})).catch((n=>{console.log("ham err"+n)}))}window.hngr={},window.hngr.send=sendHam;
